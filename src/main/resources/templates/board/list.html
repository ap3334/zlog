<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.tymeleaf.org">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<head>
    <meta charset="UTF-8">
    <title>ğŸ¤¡ZLOG</title>
</head>
<body>

<div class="header">
    <div class="pageName">
        ğŸ¤¡ZLOG
    </div>

    <!-- TODO ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ í•„ìš” -->
    <form action="/board/list" method="get" class="form-group search-group">
        <input type="text" name="keyword" placeholder="ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”...." class="keywordText">
        <button type="submit" class="searchBtn">ğŸ”</button>
        <a th:href="@{/board/list}"><button type="button" class="searchBtn">ì´ˆê¸°í™”</button></a>
    </form>

    <div>
        <a th:href="@{/board/write}"><button type="button" class="btn writeBtn">ê¸€ì“°ê¸°</button></a>
    </div>

</div>

<div class="body">

    <div class="list" th:each="board : ${boards}">

        <a th:href="@{/board/detail/{id}(id=${board.id})}"><p>[[${board.title}]]</p></a>
        <a th:href="@{/board/modify/{id}(id = ${board.id})}"><button type="button" class="modifyBtn">ìˆ˜ì •</button></a>
        <button type="button" class="removeBtn">ì‚­ì œ</button>

    </div>

    <br>
    <br>

    <div class="pageBtn">

        <th:block th:if="${boards.hasPrevious}">
            <a th:href="@{/board/list(page=${boards.number - 1},keyword=${keyword})}"><button type="button">prev</button></a>
        </th:block>

        <th:block th:if="${boards.hasNext}">
            <a th:href="@{/board/list(page=${boards.number + 1},keyword=${keyword})}"><button type="button">next</button></a>
        </th:block>

    </div>

</div>

<script th:inline="javascript">

    var actionForm = $("form");
    var id = $(".boardId").val();

    $(".removeBtn").click(function () {

        actionForm.attr("action", "/board/delete/" + id)
            .attr("method", "post");

        actionForm.submit();

    })

</script>


</body>
</html>